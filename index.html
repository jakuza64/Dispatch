<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Dispatch Demo</title>
  <link href="https://fonts.googleapis.com/css?family=VT323" rel="stylesheet">
</head>
  <script src="pixi/pixi.min.js"></script>
<body>
  <style>* {padding: 0; margin: 0}</style>
  <script type="text/javascript">
    //Aliases
    let Application = PIXI.Application,
        loader = PIXI.loader,
        resources = PIXI.loader.resources,
        Sprite = PIXI.Sprite;

    //Create a Pixi Application
    let app = new PIXI.Application({ 
        antialias: true,   // default: false
        backgroundColor : 0x161B1C
      }
    );

    //Add the canvas that Pixi automatically created for you to the HTML document
    document.body.appendChild(app.view);

    //adding police seal sprite
    loader
      .add("images/police_seal.png")
      .load(setup);

    //defining global variables
    let title, state;

    //This `setup` function will run when the image has loaded
    function setup() {

        //setting to fullscreen
        app.renderer.view.style.position = "absolute";
        app.renderer.view.style.display = "block";
        app.renderer.autoResize = true;
        app.renderer.resize(window.innerWidth, window.innerHeight);

        //font style
        var style = new PIXI.TextStyle({
        fontFamily: 'VT323',
        fontStyle: 'normal',
        fontSize: 38,
        fill: '#F0F3F3',
        dropShadow: true,
        dropShadowColor: '#FFFFFF',
        dropShadowBlur: 7,
        dropShadowAngle: 0,
        dropShadowDistance: 1,
        wordWrap: true,
        wordWrapWidth: 1000
        });

        //initialize text
        let titleText = new PIXI.Text('D I S P A T C H \n _____________', style);
        titleText.position.set(195,60)

        //Create the seal sprite
        let titleIcon = new Sprite(resources["images/police_seal.png"].texture);
        titleIcon.position.set(100,100);
        titleIcon.anchor.set(0.5,0.5);

        //initialize title container, add children and properties and add to stage
        title = new PIXI.Container();
        title.addChild(titleText);
        title.addChild(titleIcon);
        title.x = 20;
        title.y = 20;
        title.vx = 0;
        title.vy = 0;
        title.vr = .5 * Math.PI;
        title.vs = .25 * Math.PI;
        app.stage.addChild(title);
        
        //set the game state to play
        state = play;

        //start the game loop, finishing setup
        app.ticker.add(delta =>  gameLoop(delta));
    }

    function gameLoop(delta) {

         //Update the current game state
         state(delta);
    }

    function play(delta) {

        //Move the image
        title.rotation = .01 * Math.sin(title.vr);
        let scale = 1 + (.01 * Math.sin(title.vs));
        title.scale.set(scale,scale);
        title.vr += .08;
        title.vs += .08;
    }

  </script>
</body>
</html>