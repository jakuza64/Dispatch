<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Dispatch Demo</title>
  
</head>
  <script src="pixi/pixi.min.js"></script>
  <script src="src/text.js"></script>
<body>
  <style>* {padding: 0; margin: 0}</style>
  <script type="text/javascript">
    //Aliases
    let Application = PIXI.Application,
        loader = PIXI.loader,
        resources = PIXI.loader.resources,
        Sprite = PIXI.Sprite;

    //Create a Pixi Application
    let app = new PIXI.Application({ 
        antialias: true,   // default: false
        backgroundColor : 0x161B1C
      }
    );

    //Add the canvas that Pixi automatically created for you to the HTML document
    document.body.appendChild(app.view);

    //loading google fonts
    window.WebFontConfig = {
        google: {
            families: ['VT323']
        },

        active: function() {
            // do something
            init();
        }
    };

    // include the web-font loader script
    /* jshint ignore:start */
    (function() {
        var wf = document.createElement('script');
        wf.src = ('https:' === document.location.protocol ? 'https' : 'http') +
            '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
        wf.type = 'text/javascript';
        wf.async = 'true';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(wf, s);
    })();
    /* jshint ignore:end */

    function init() {

        //adding police seal sprite
        loader
          .add("images/police_seal.png")
          .load(setup);

        //defining global variables
        let title, state;

        //This `setup` function will run when the image has loaded
        function setup() {

            //setting to fullscreen
            app.renderer.view.style.position = "absolute";
            app.renderer.view.style.display = "block";
            app.renderer.autoResize = true;
            app.renderer.resize(window.innerWidth, window.innerHeight);

            

            //initialize text
            let titleText = new Text('D I S P A T C H \n _____________', true, 195, 60);

            //Create the seal sprite
            let titleIcon = new Sprite(resources["images/police_seal.png"].texture);
            titleIcon.position.set(100,100);
            titleIcon.anchor.set(0.5,0.5);
            app.stage.addChild(titleIcon);
            
            //set the game state to play
            state = play;

            //start the game loop, finishing setup
            app.ticker.add(delta =>  gameLoop(delta));
        }

        function gameLoop(delta) {

             //Update the current game state
             state(delta);
        }

        function play(delta) {

            //do stuff
        }
    }

    

  </script>
</body>
</html>